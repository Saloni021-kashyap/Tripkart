<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MyTravel</title>

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
  />
  <link rel="stylesheet" href="/css/style.css" />
</head>

<body class="d-flex flex-column min-vh-100">

  <!-- ✅ Navbar -->
  <%- include("../includes/navbar.ejs") %>

  <!-- ✅ Main Content (important for sticky footer) -->
  <main class="flex-fill">
    <div class="container py-3">

      <% if (success && success.length) { %>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
          <%= success[0] %>
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      <% } %>

      <% if (error && error.length) { %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <%= error[0] %>
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      <% } %>

      <%- body %>
    </div>
  </main>

  <!-- ✅ Footer -->
  <%- include("../includes/footer.ejs") %>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

<script>
  (() => {
    "use strict";

    const forms = document.querySelectorAll(".needs-validation");

    Array.from(forms).forEach((form) => {
      form.addEventListener(
        "submit",
        (event) => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>

